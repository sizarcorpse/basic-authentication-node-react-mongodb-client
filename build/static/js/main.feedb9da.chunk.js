(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{144:function(e,a,t){e.exports=t(156)},156:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(9),c=t.n(o),i=t(21),l=t.n(i),s=t(33),m=t(25),u=t(23),p=t(11),d=t(123),g=function(e){var a=e.component,t=e.isAuthenticated,n=Object(d.a)(e,["component","isAuthenticated"]);return r.a.createElement(p.b,Object.assign({},n,{render:function(e){return!0===t?r.a.createElement(a,e):r.a.createElement(p.a,{to:"/"})}}))},h=t(182),E=t(186),b=t(187),f=t(200),v=t(82),y=t(188),x=t(203),w=t(184),j=Object(h.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function O(e){var a=j(),t=Object(n.useContext)(te),o=Object(m.a)(t,2),c=o[0],i=o[1],p=function(){var a=Object(s.a)(l.a.mark((function a(){return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/api/user/logout",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(c.accesstoken)}});case 2:i({}),e.history.push("/");case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return r.a.createElement("div",{className:a.root},r.a.createElement(w.a,null),r.a.createElement(E.a,{position:"static"},r.a.createElement(b.a,null,r.a.createElement(f.a,{className:a.title},r.a.createElement(u.b,{to:"/Home",style:{textDecoration:"none",color:"white"}},r.a.createElement(v.a,{variant:"h6",className:a.title},"Home"))),!0===c.isAuthenticated?r.a.createElement(f.a,null,r.a.createElement(u.b,{to:"/logout",onClick:p},r.a.createElement(x.a,{alt:"Remy Sharp",src:"https://source.unsplash.com/random"}))):r.a.createElement(f.a,{className:a.box},r.a.createElement(u.b,{to:"/pricing",style:{textDecoration:"none",color:"white"}},r.a.createElement(y.a,{color:"inherit"},"Pricing")),r.a.createElement(u.b,{to:"/login",style:{textDecoration:"none",color:"white"}},r.a.createElement(y.a,{color:"inherit"},"Login"))))))}var k=t(191),C=t(194),B=t(193),S=t(192),N=t(190),T=t(189),P=Object(h.a)((function(e){return{icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1},footer:{borderTop:"1px solid ".concat(e.palette.divider),backgroundColor:e.palette.background.paper,padding:e.spacing(6)}}})),W=[1,2,3,4,5,6,7,8,9];function A(){var e=Object(n.useContext)(te),a=Object(m.a)(e,1)[0],t=Object(n.useState)(""),o=Object(m.a)(t,2),c=o[0],i=o[1],u=P();return Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:4000/api/user",{method:"GET",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(a.accesstoken)}});case 2:return e.next=4,e.sent.json();case 4:(t=e.sent)&&i(t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a]),console.log(c),r.a.createElement(f.a,null,r.a.createElement(w.a,null),r.a.createElement("main",null,r.a.createElement("div",{className:u.heroContent},r.a.createElement(T.a,{maxWidth:"sm"},r.a.createElement(v.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0},"Basic Authentication w/ React | Node | Jwt"),r.a.createElement(v.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0},"hi, Your are login now as a '",c.username,"'"),r.a.createElement("div",{className:u.heroButtons},r.a.createElement(N.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(N.a,{item:!0},r.a.createElement(y.a,{variant:"contained",color:"primary"},"Main call to action")),r.a.createElement(N.a,{item:!0},r.a.createElement(y.a,{variant:"outlined",color:"primary"},"Secondary action")))))),r.a.createElement(T.a,{className:u.cardGrid,maxWidth:"md"},r.a.createElement(N.a,{container:!0,spacing:4},W.map((function(e){return r.a.createElement(N.a,{item:!0,key:e,xs:12,sm:6,md:4},r.a.createElement(k.a,{className:u.card},r.a.createElement(S.a,{className:u.cardMedia,image:"https://source.unsplash.com/random",title:"Image title"}),r.a.createElement(B.a,{className:u.cardContent},r.a.createElement(v.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Heading"),r.a.createElement(v.a,null,"This is a media card. You can use this section to describe the content.")),r.a.createElement(C.a,null,r.a.createElement(y.a,{size:"small",color:"primary"},"View"),r.a.createElement(y.a,{size:"small",color:"primary"},"Edit"))))}))))),r.a.createElement("footer",{className:u.footer},r.a.createElement(v.a,{variant:"h6",align:"center",gutterBottom:!0},"Footer"),r.a.createElement(v.a,{variant:"subtitle1",align:"center",color:"textSecondary",component:"p"},"Something here to give the footer a purpose!")))}var D=t(118),G=t(195),I=t(119),V=t.n(I),q=Object(h.a)((function(e){return{"@global":{ul:{margin:0,padding:0,listStyle:"none"}},appBar:{borderBottom:"1px solid ".concat(e.palette.divider)},toolbar:{flexWrap:"wrap"},toolbarTitle:{flexGrow:1},link:{margin:e.spacing(1,1.5)},heroContent:{padding:e.spacing(8,0,6)},cardHeader:{backgroundColor:"light"===e.palette.type?e.palette.grey[200]:e.palette.grey[700]},cardPricing:{display:"flex",justifyContent:"center",alignItems:"baseline",marginBottom:e.spacing(2)},footer:Object(D.a)({borderTop:"1px solid ".concat(e.palette.divider),marginTop:e.spacing(8),paddingTop:e.spacing(3),paddingBottom:e.spacing(3)},e.breakpoints.up("sm"),{paddingTop:e.spacing(6),paddingBottom:e.spacing(6)})}})),F=[{title:"Free",price:"0",description:["10 users included","2 GB of storage","Help center access","Email support"],buttonText:"Sign up for free",buttonVariant:"outlined"},{title:"Pro",subheader:"Most popular",price:"15",description:["20 users included","10 GB of storage","Help center access","Priority email support"],buttonText:"Get started",buttonVariant:"contained"},{title:"Enterprise",price:"30",description:["50 users included","30 GB of storage","Help center access","Phone & email support"],buttonText:"Contact us",buttonVariant:"outlined"}];function z(){var e=q();return r.a.createElement(f.a,null,r.a.createElement(w.a,null),r.a.createElement(T.a,{maxWidth:"sm",component:"main",className:e.heroContent},r.a.createElement(v.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0},"Pricing"),r.a.createElement(v.a,{variant:"h5",align:"center",color:"textSecondary",component:"p"},"Quickly build an effective pricing table for your potential customers with this layout. It's built with default Material-UI components with little customization.")),r.a.createElement(T.a,{maxWidth:"md",component:"main"},r.a.createElement(N.a,{container:!0,spacing:5,alignItems:"flex-end"},F.map((function(a){return r.a.createElement(N.a,{item:!0,key:a.title,xs:12,sm:"Enterprise"===a.title?12:6,md:4},r.a.createElement(k.a,null,r.a.createElement(G.a,{title:a.title,subheader:a.subheader,titleTypographyProps:{align:"center"},subheaderTypographyProps:{align:"center"},action:"Pro"===a.title?r.a.createElement(V.a,null):null,className:e.cardHeader}),r.a.createElement(B.a,null,r.a.createElement("div",{className:e.cardPricing},r.a.createElement(v.a,{component:"h2",variant:"h3",color:"textPrimary"},"$",a.price),r.a.createElement(v.a,{variant:"h6",color:"textSecondary"},"/mo")),r.a.createElement("ul",null,a.description.map((function(e){return r.a.createElement(v.a,{component:"li",variant:"subtitle1",align:"center",key:e},e)})))),r.a.createElement(C.a,null,r.a.createElement(y.a,{fullWidth:!0,variant:a.buttonVariant,color:"primary"},a.buttonText))))})))),r.a.createElement("footer",{className:e.footer},r.a.createElement(v.a,{variant:"h6",align:"center",gutterBottom:!0},"Footer"),r.a.createElement(v.a,{variant:"subtitle1",align:"center",color:"textSecondary",component:"p"},"Something here to give the footer a purpose!")))}var H=t(73),R=t(41),U=t(201),J=t(199),M=t(198),L=t(202),Y=t(96),$=t.n(Y),Q=t(125),_=t(204),K=t(197),X=Object(h.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},root2:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));var Z=function(e){var a=Object(n.useContext)(te),t=Object(m.a)(a,2),o=(t[0],t[1]),c=Object(n.useState)(""),i=Object(m.a)(c,2),p=i[0],d=i[1],g=X(),h=R.a({email:R.b().email("Please Enter A Valid Email").lowercase().required("Email Can Not Be Empty"),password:R.b().min(8)}),E=function(){var a=Object(s.a)(l.a.mark((function a(t,n){var r,c,i;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.resetForm,r=t.email,c=t.password,a.next=4,fetch("/api/user/login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:c})});case 4:return a.next=6,a.sent.json();case 6:(i=a.sent).accesstoken?(o({accesstoken:i.accesstoken,isAuthenticated:!0}),e.history.push("/home")):d(i.error);case 8:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}();return r.a.createElement(N.a,{container:!0,component:"main",className:g.root},r.a.createElement(w.a,null),r.a.createElement(N.a,{item:!0,xs:!1,sm:4,md:7,className:g.image}),r.a.createElement(N.a,{item:!0,xs:12,sm:8,md:5,component:Q.a,elevation:6,square:!0},r.a.createElement("div",{className:g.paper},r.a.createElement(x.a,{className:g.avatar},r.a.createElement($.a,null)),r.a.createElement(v.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement(H.b,{initialValues:{email:"",password:""},validationSchema:h,onSubmit:E,validateOnChange:!1,validateOnBlur:!1},(function(e){var a=e.values,t=e.touched,n=e.errors,o=e.handleChange,c=e.handleBlur;return r.a.createElement(H.a,{className:g.form},p&&r.a.createElement("div",{className:g.root2},r.a.createElement(U.a,{severity:"error"},p)),r.a.createElement(N.a,{container:!0,spacing:2},r.a.createElement(N.a,{item:!0,xs:12,sm:12},r.a.createElement(_.a,{error:t.email&&Boolean(n.email),fullWidth:!0},r.a.createElement(J.a,{variant:"outlined",margin:"normal",required:!0,id:"email",value:a.email,label:"Email Address",name:"email",autoFocus:!0,onChange:o,onBlur:c,fullWidth:!0}),r.a.createElement(K.a,{id:"component-error-text"},t.email?n.email:""))),r.a.createElement(N.a,{item:!0,xs:12,sm:12},r.a.createElement(_.a,{error:t.password&&Boolean(n.password),fullWidth:!0},r.a.createElement(J.a,{variant:"outlined",type:"password",margin:"normal",required:!0,id:"password",value:a.password,name:"password",autoComplete:"password",autoFocus:!0,onChange:o,onBlur:c}),r.a.createElement(K.a,{id:"component-error-text"},t.password?n.password:""))),r.a.createElement(M.a,{control:r.a.createElement(L.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:g.submit},"Sign In"),r.a.createElement(N.a,{container:!0},r.a.createElement(N.a,{item:!0,xs:!0},r.a.createElement(u.b,{href:"#",variant:"body2",style:{textDecoration:"none"}},"Forgot password?")),r.a.createElement(N.a,{item:!0},r.a.createElement(u.b,{to:"/",variant:"body2",style:{textDecoration:"none"}},"Don't have an account? Sign Up")))))})))))},ee=Object(h.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function ae(e){var a=ee(),t=Object(n.useState)(""),o=Object(m.a)(t,2),c=o[0],i=o[1],p=R.a({username:R.b().matches(/^[a-z0-9_.]+$/,"Enter a Valid Username").trim().min(4,"Username is Too Short").max(30,"Username is Too Long").lowercase().required(),email:R.b().email("Please Enter A Valid Email").min(8,"Please Enter A Valid Email").max(30,"Eamil is Too Large").lowercase().required("Email Can Not Be Empty"),password:R.b().min(8)}),d=function(){var a=Object(s.a)(l.a.mark((function a(t,n){var r,o,c,s;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.resetForm,r=t.username,o=t.email,c=t.password,a.next=4,fetch("/api/user/signup",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,email:o,password:c})});case 4:return a.next=6,a.sent.json();case 6:s=a.sent,console.log(s),s.success?e.history.push("/login"):i(s.error);case 9:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}();return r.a.createElement(N.a,{container:!0,component:"main",className:a.root},r.a.createElement(w.a,null),r.a.createElement(N.a,{item:!0,xs:!1,sm:4,md:7,className:a.image}),r.a.createElement(N.a,{item:!0,xs:12,sm:8,md:5,component:Q.a,elevation:6,square:!0},r.a.createElement("div",{className:a.paper},r.a.createElement(x.a,{className:a.avatar},r.a.createElement($.a,null)),r.a.createElement(v.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement(H.b,{initialValues:{username:"",email:"",password:""},validationSchema:p,onSubmit:d,validateOnChange:!1,validateOnBlur:!1},(function(e){var t=e.values,n=e.touched,o=e.errors,i=e.handleChange,l=e.handleBlur;return r.a.createElement(H.a,{className:a.form},c&&r.a.createElement("div",{className:a.root2},r.a.createElement(U.a,{severity:"error"},c)),r.a.createElement(N.a,{container:!0,spacing:2},r.a.createElement(N.a,{item:!0,xs:12,sm:12},r.a.createElement(_.a,{error:n.username&&Boolean(o.username),fullWidth:!0},r.a.createElement(J.a,{variant:"outlined",margin:"normal",required:!0,id:"username",value:t.username,label:"Username",name:"username",autoComplete:"username",autoFocus:!0,onChange:i,onBlur:l}),r.a.createElement(K.a,{id:"component-error-text"},n.username?o.username:""))),r.a.createElement(N.a,{item:!0,xs:12,sm:12},r.a.createElement(_.a,{error:n.email&&Boolean(o.email),fullWidth:!0},r.a.createElement(J.a,{variant:"outlined",margin:"normal",required:!0,id:"email",value:t.email,label:"Email Address",name:"email",autoComplete:"email",onChange:i,onBlur:l}),r.a.createElement(K.a,{id:"component-error-text"},n.email?o.email:""))),r.a.createElement(N.a,{item:!0,xs:12,sm:12},r.a.createElement(_.a,{error:n.password&&Boolean(o.password),fullWidth:!0},r.a.createElement(J.a,{variant:"outlined",type:"password",margin:"normal",required:!0,id:"password",value:t.password,label:"Password",name:"password",autoComplete:"password",onChange:i,onBlur:l}),r.a.createElement(K.a,{id:"component-error-text"},n.password?o.password:""))),r.a.createElement(M.a,{control:r.a.createElement(L.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Sign Up"),r.a.createElement(N.a,{container:!0},r.a.createElement(N.a,{item:!0,xs:!0},r.a.createElement(u.b,{href:"#",variant:"body2",style:{textDecoration:"none"}},"Forgot password?")),r.a.createElement(N.a,{item:!0},r.a.createElement(u.b,{to:"/login",variant:"body2",style:{textDecoration:"none"}},"You have an account? Sign in")))))})))))}var te=Object(n.createContext)([]),ne=function(){var e=Object(n.useState)({}),a=Object(m.a)(e,2),t=a[0],o=a[1],c=Object(n.useState)(!1),i=Object(m.a)(c,2),d=i[0],h=i[1];return Object(n.useEffect)((function(){t&&function(){var e=Object(s.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/refreshtoken",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});case 2:return e.next=4,e.sent.json();case 4:(a=e.sent).accesstoken?(o({accesstoken:a.accesstoken,isAuthenticated:!0}),h(!1)):h(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),d?r.a.createElement("div",null,"Loding.."):r.a.createElement(te.Provider,{value:[t,o]},r.a.createElement(u.a,null,r.a.createElement(p.b,{path:"/",component:O}),r.a.createElement(p.d,null,r.a.createElement(g,{path:"/home",exact:!0,component:A,isAuthenticated:t.isAuthenticated}),r.a.createElement(p.b,{path:"/Pricing",exact:!0,component:z}),r.a.createElement(p.b,{path:"/login",component:Z}),r.a.createElement(p.b,{path:"/",exact:!0,component:ae}))))};c.a.render(r.a.createElement(ne,null),document.getElementById("root"))}},[[144,1,2]]]);
//# sourceMappingURL=main.feedb9da.chunk.js.map